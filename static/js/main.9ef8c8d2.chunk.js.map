{"version":3,"sources":["objects/rotors/rotors.ts","services/rotors/rotors-slice.ts","services/utils/array-alphabet.ts","services/utils/keys.ts","services/machine/utils.ts","services/utils/modulo.ts","services/machine/machine-slice.ts","rootReducer.ts","store.ts","theme/custom-theme.ts","services/providers/index.tsx","services/machine/machine-selector.ts","theme/utils.ts","scenes/letter-key/index.tsx","scenes/keyboard/row.tsx","scenes/keyboard/output.tsx","scenes/keyboard/index.tsx","services/enhance/index.ts","scenes/app/index.tsx","reportWebVitals.ts","index.tsx"],"names":["rotorI","name","type","turnOver","keys","split","rotorII","rotorIII","reflectorUKWB","initialState","rotorSlice","createSlice","reducers","alphabet","getAlphabetKeyNum","key","findIndex","k","toUpperCase","getAlphabetKeyByNum","keyNum","getKeyNumWithPosition","position","op","keyNumOpsPosition","n","x","length","encode","slots","initialKeyNum","isSecondPass","reduce","slot","console","log","rotor","keyIdx","keyValue","inputKeyNumWithPosition","inputKeyLetter","outputKeyNum","indexOf","outputKey","slotSlice","handleRotorRotation","state","action","some","idx","newPosition","firstPassEncodedKeyNum","reverse","shift","secondPassEncodedKeyNum","handleEncoding","payload","actions","rootReducer","combineReducers","rotors","rotorReducer","machine","machineReducer","store","configureStore","reducer","theme","borderRadius","colors","white","primary","litLetter","font","size","baseline","Providers","children","getMachine","selectOutputKey","createSelector","themeModifier","themeProp","modifier","match","prop","unit","convertedProp","parseFloat","$Container","styled","div","p","isLit","$Letter","LetterKey","letter","memoizedLetterKey","React","memo","KeyboardRow","letters","activeKey","map","memoizedKeyboardRow","row1","row2","row3","OutputKeyboard","KeyBoardController","useSelector","hasMounted","useState","setHasMounted","useEffect","useMountState","dispatch","useDispatch","handleKeyDown","e","window","addEventListener","removeEventListener","$Header","h1","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9ef8c8d2.chunk.js","sourcesContent":["export const rotorI: Rotor = {\n  name: 'rotorI',\n  type: 'rotor',\n  turnOver: 16, // 16 is Q\n  keys: 'EKMFLGDQVZNTOWYHXUSPAIBRCJ'.split('')\n};\n\nexport const rotorII: Rotor = {\n  name: 'rotorII',\n  type: 'rotor',\n  turnOver: 4, // 4 is E\n  keys: 'AJDKSIRUXBLHWTMCQGZNPYFVOE'.split('')\n};\n\nexport const rotorIII: Rotor = {\n  name: 'rotorIII',\n  type: 'rotor',\n  turnOver: 21, // 21 is V\n  keys: 'BDFHJLCPRTXVZNYEIWGAKMUSQO'.split('')\n};\n\nexport const reflectorUKWB: Rotor = {\n  name: 'UKW-B',\n  type: 'reflector',\n  keys: 'YRUHQSLDPXNGOKMIEBFZCWVJAT'.split('')\n};\n","import { createSlice } from '@reduxjs/toolkit';\nimport { rotorI, rotorII, rotorIII } from '../../objects/rotors/rotors';\n\nconst initialState: RotorStore = [rotorI, rotorII, rotorIII];\n\nconst rotorSlice = createSlice({\n  name: 'handleRotors',\n  initialState,\n  reducers: {}\n});\n\nexport default rotorSlice.reducer;\n","export const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\n","import { alphabet } from './array-alphabet';\n\nexport const getAlphabetKeyNum = (key: string) => alphabet.findIndex(k => k === key.toUpperCase());\n\nexport const getAlphabetKeyByNum = (keyNum: number) => alphabet[keyNum] || '';\n","import { getAlphabetKeyByNum, getAlphabetKeyNum } from '../utils/keys';\nimport { alphabet } from '../utils/array-alphabet';\nimport { modulo } from '../utils/modulo';\n\nconst getKeyNumWithPosition = (keyNum: number, position: number, op: 'add' | 'subtract') => {\n  let keyNumOpsPosition;\n  switch (op) {\n    case 'add':\n      keyNumOpsPosition = keyNum + position;\n      break;\n\n    case 'subtract':\n      keyNumOpsPosition = keyNum - position;\n      break;\n\n    default:\n      keyNumOpsPosition = null;\n  }\n\n  if (keyNumOpsPosition === null) return -1;\n  return modulo(keyNumOpsPosition, alphabet.length);\n};\n\nconst getOutputKeyNum = (\n  keys: string[],\n  keyIdx: number,\n  keyValue: string,\n  findByIndex?: boolean\n) => {\n  if (findByIndex) {\n    return keys.indexOf(keyValue);\n  }\n\n  return getAlphabetKeyNum(keys[keyIdx]);\n};\n\nconst encode = (slots: Slot[], initialKeyNum: number, isSecondPass?: boolean) => {\n  const encodedKeyNum = slots.reduce((keyNum: number, slot) => {\n    console.log('-------------------------');\n    console.log(`slot: ${slot.name} at position ${slot.position}. Given keyNum: ${keyNum}. Using rotor: ${slot.rotor.name}, with keys: ${slot.rotor.keys}`);\n    if (keyNum < 0) return -1;\n    const inputKeyNumWithPosition = getKeyNumWithPosition(keyNum, slot.position, 'add');\n    const inputKeyLetter = getAlphabetKeyByNum(inputKeyNumWithPosition);\n    const outputKeyNum = getOutputKeyNum(\n      slot.rotor.keys,\n      inputKeyNumWithPosition,\n      inputKeyLetter,\n      isSecondPass\n    );\n    console.log('Calc key as', getAlphabetKeyByNum(outputKeyNum));\n    console.log('Key num is, ', outputKeyNum);\n    console.log('output key num with positiuon', getKeyNumWithPosition(outputKeyNum, slot.position, 'subtract'));\n    return getKeyNumWithPosition(outputKeyNum, slot.position, 'subtract');\n  }, initialKeyNum);\n  return encodedKeyNum;\n};\n\nexport const handleEncoding = (slots: Slot[], initialKeyNum: number) => {\n  const firstPassEncodedKeyNum = encode(slots, initialKeyNum);\n  const secondPassSlots = slots.reverse();\n  secondPassSlots.shift(); // remove the reflector as it was used in the first pass.\n\n  console.log('first pass num: ', firstPassEncodedKeyNum);\n\n  const secondPassEncodedKeyNum = encode(slots, firstPassEncodedKeyNum, true);\n  console.log('second pass num: ', secondPassEncodedKeyNum);\n  return getAlphabetKeyByNum(secondPassEncodedKeyNum);\n};\n","export const modulo = (n: number, x: number) => ((n % x) + x) % x;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { rotorI, rotorII, rotorIII, reflectorUKWB } from '../../objects/rotors/rotors';\nimport { handleEncoding } from './utils';\n\nconst initialState: MachineStore = {\n  slots: [\n    {\n      name: 'slot1',\n      rotor: rotorI,\n      position: 0\n    }, {\n      name: 'slot2',\n      rotor: rotorII,\n      position: 0\n    }, {\n      name: 'slot3',\n      rotor: rotorIII,\n      position: 0\n    },\n    {\n      name: 'slot4',\n      rotor: reflectorUKWB,\n      position: 0\n    }\n  ],\n  outputKey: ''\n};\n\nconst slotSlice = createSlice({\n  name: 'handleSlots',\n  initialState,\n  reducers: {\n    handleRotorRotation(state, action: PayloadAction<number>) {\n      const { slots } = state;\n\n      // handles positioning of rotors\n      slots.some((slot, idx) => {\n        // reflectors don't have positions; so return\n        if (slot.rotor.type === 'reflector') return true;\n\n        // calculate slots new position\n        const newPosition = slot.position >= 25 ? 0 : slot.position + 1;\n        slots[idx].position = newPosition;\n\n        // TODO keeping for now, might could use for ring settings\n        // const newRotorKeys = slot.rotor.keys;\n        // const firstKey = newRotorKeys.shift();\n        // newRotorKeys.push(firstKey || '');\n        // slots[idx].rotor.keys = newRotorKeys;\n\n        return !!(slot.rotor.turnOver !== slot.position);\n      });\n\n      // handles encoding\n      // passing copy of array to avoid the function making changes to state array.\n      state.outputKey = handleEncoding([...slots], action.payload);\n    }\n  }\n});\n\nexport const {\n  handleRotorRotation\n} = slotSlice.actions;\n\nexport default slotSlice.reducer;\n","import { combineReducers } from '@reduxjs/toolkit';\n\nimport rotorReducer from './services/rotors/rotors-slice';\nimport machineReducer from './services/machine/machine-slice';\n\nconst rootReducer = combineReducers({\n  rotors: rotorReducer,\n  machine: machineReducer\n});\n\nexport type EnigmaStore = ReturnType<typeof rootReducer>;\n\nexport default rootReducer;\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport rootReducer from './rootReducer';\n\nconst store = configureStore({\n  reducer: rootReducer\n});\n\nif (process.env.NODE_ENV === 'development' && module.hot) {\n  module.hot.accept('./rootReducer', () => {\n    const newRootReducer = require('./rootReducer').default;\n    store.replaceReducer(newRootReducer);\n  });\n}\n\nexport type AppDispatch = typeof store.dispatch;\nexport default store;\n","import { DefaultTheme } from 'styled-components';\n\nexport const theme: DefaultTheme = {\n  borderRadius: '6px',\n  colors: {\n    white: 'white',\n    primary: 'red',\n    litLetter: '#7a7b3d'\n  },\n  font: {\n    size: '1em'\n  },\n  baseline: '24px'\n};\n","import React from 'react';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport { ThemeProvider } from 'styled-components';\n\nimport store from '../../store';\nimport { theme } from '../../theme/custom-theme';\n\nconst Providers: React.FC = ({ children }) => (\n  <ReduxProvider store={store}>\n    <ThemeProvider theme={theme}>\n      {children}\n    </ThemeProvider>\n  </ReduxProvider>\n);\n\nexport default Providers;\n","import { createSelector } from '@reduxjs/toolkit';\nimport { EnigmaStore } from '../../rootReducer';\n\nexport const getMachine = (state: EnigmaStore) => state.machine;\nexport const getSlots = (state: EnigmaStore) => state.machine.slots;\n\nexport const selectSlots = createSelector(\n  [getMachine],\n  machine => machine.slots\n);\n\nexport const selectOutputKey = createSelector(\n  [getMachine],\n  machine => machine.outputKey\n);\n","export const themeModifier = (themeProp: string, modifier: number) => {\n  const regex = /^(^-?\\d+(?:\\.\\d+)?)(.*)$/;\n  const match = themeProp.match(regex);\n  if (!match) return themeProp;\n\n  const [, prop, unit] = match;\n  const convertedProp = parseFloat(prop);\n\n  if (!convertedProp || !unit) return themeProp;\n  return `${convertedProp * modifier}${unit}`;\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { themeModifier } from '../../theme/utils';\n\ntype Props = {\n  letter: string;\n  isLit?: boolean;\n}\n\ntype $Props = {\n  isLit: boolean;\n}\n\nconst $Container = styled.div<$Props>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ${p => themeModifier(p.theme.baseline, 3)};\n  height: ${p => themeModifier(p.theme.baseline, 3)};\n  border-radius: 50%;\n  border: 2px solid lightgray;\n  background-color: ${p => (p.isLit ? p.theme.colors.litLetter : 'grey')};\n  margin-left: ${p => themeModifier(p.theme.baseline, 0.25)};\n  margin-right: ${p => themeModifier(p.theme.baseline, 0.25)};\n`;\n\nconst $Letter = styled.p`\n  color: ${p => p.theme.colors.white};\n  font-size: ${p => themeModifier(p.theme.font.size, 2)};\n  flex: 0;\n`;\n\nconst LetterKey: React.FC<Props> = ({ letter, isLit = false }) => (\n  <$Container isLit={isLit}>\n    <$Letter>{letter.toUpperCase()}</$Letter>\n  </$Container>\n);\n\nconst memoizedLetterKey = React.memo(LetterKey);\n\nexport { memoizedLetterKey as LetterKey };\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { themeModifier } from '../../theme/utils';\n\nimport { LetterKey } from '../letter-key';\n\ntype Props = {\n  letters: string[];\n  activeKey: string;\n}\n\nconst $Container = styled.div`\n  display: flex;\n  margin-bottom: ${p => themeModifier(p.theme.baseline, 0.5)};\n`;\n\nconst KeyboardRow: React.FC<Props> = ({ letters, activeKey }) => (\n  <$Container>\n    {letters.map(letter => {\n      const isLit = letter === activeKey;\n      return (\n        <LetterKey key={`${letter}`} letter={letter} isLit={isLit} />\n      );\n    })}\n  </$Container>\n);\n\nconst memoizedKeyboardRow = React.memo(KeyboardRow);\n\nexport { memoizedKeyboardRow as KeyboardRow };\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { KeyboardRow } from './row';\n\ntype Props = {\n  activeKey: string;\n}\n\nconst row1 = 'QWERTYUIOP'.split('');\nconst row2 = 'ASDFGHJKL'.split('');\nconst row3 = 'ZXCVBNM'.split('');\n\nconst $Container = styled.div`\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nexport const OutputKeyboard: React.FC<Props> = ({ activeKey }) => (\n  <$Container>\n    <KeyboardRow letters={row1} activeKey={activeKey} />\n    <KeyboardRow letters={row2} activeKey={activeKey} />\n    <KeyboardRow letters={row3} activeKey={activeKey} />\n  </$Container>\n);\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { handleRotorRotation } from '../../services/machine/machine-slice';\nimport { selectOutputKey } from '../../services/machine/machine-selector';\nimport { useMountState } from '../../services/enhance';\nimport { getAlphabetKeyNum } from '../../services/utils/keys';\n\nimport { OutputKeyboard } from './output';\n\nexport const KeyBoardController = () => {\n  const outputKey = useSelector(selectOutputKey);\n  const hasMounted = useMountState();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    // don't fire on initial render\n    if (!hasMounted) return undefined;\n    const handleKeyDown = (e: KeyboardEvent) => {\n      const keyNum = getAlphabetKeyNum(e.key);\n      if (keyNum < 0) return;\n      dispatch(handleRotorRotation(keyNum));\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    const unsubscribe = () => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n    return unsubscribe;\n  }, [hasMounted]);\n\n  return (\n    <OutputKeyboard activeKey={outputKey} />\n  );\n};\n","import { useState, useEffect } from 'react';\n\nexport const useMountState = () => {\n  const [hasMounted, setHasMounted] = useState(false);\n  useEffect(() => setHasMounted(true));\n  return hasMounted;\n};\n","import React from 'react';\nimport styled from 'styled-components';\n\nimport { KeyBoardController } from '../keyboard';\n\nconst $Container = styled.div`\n\n`;\n\nconst $Header = styled.h1`\n  color: ${p => p.theme.colors.white};\n`;\n\nconst App = () => (\n  <$Container>\n    <$Header>{'Engima'}</$Header>\n    <KeyBoardController />\n  </$Container>\n);\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Providers from './services/providers';\nimport App from './scenes/app';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Providers>\n      <App />\n    </Providers>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}