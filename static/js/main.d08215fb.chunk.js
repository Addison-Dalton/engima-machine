(this["webpackJsonpengima-machine"]=this["webpackJsonpengima-machine"]||[]).push([[0],{24:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(10),c=n.n(i),a=(n(24),n(6)),s=n(2),u=n(5),l=n(4),b={name:"rotorI",type:"rotor",turnOver:16,keys:"EKMFLGDQVZNTOWYHXUSPAIBRCJ".split("")},d={name:"rotorII",type:"rotor",turnOver:4,keys:"AJDKSIRUXBLHWTMCQGZNPYFVOE".split("")},p={name:"rotorIII",type:"rotor",turnOver:21,keys:"BDFHJLCPRTXVZNYEIWGAKMUSQO".split("")},j={name:"UKW-B",type:"reflector",keys:"YRUHQSLDPXNGOKMIEBFZCWVJAT".split("")},f=[b,d,p],h=Object(u.b)({name:"handleRotors",initialState:f,reducers:{}}).reducer,O=n(14),m="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),v=[" "],y=[].concat(Object(O.a)(m),v),x=function(t){return m.findIndex((function(e){return e===t.toUpperCase()}))},g=function(t){return m[t]||""},k=function(t,e,n){var r,o,i;switch(n){case"add":r=t+e;break;case"subtract":r=t-e;break;default:r=null}return null===r?-1:(o=r,i=m.length,(o%i+i)%i)},K=function(t,e,n){return t.reduce((function(t,e){if(console.log("-------------------------"),console.log("slot: ".concat(e.name," at position ").concat(e.position,". Given keyNum: ").concat(t,". Using rotor: ").concat(e.rotor.name,", with keys: ").concat(e.rotor.keys)),t<0)return-1;var r,o,i,c=k(t,e.position,"add"),a=g(c),s=(r=e.rotor.keys,o=c,i=a,n?r.indexOf(i):x(r[o]));return console.log("Calc key as",g(s)),console.log("Key num is, ",s),console.log("output key num with positiuon",k(s,e.position,"subtract")),k(s,e.position,"subtract")}),e)},C={slots:[{name:"slot1",rotor:b,position:0},{name:"slot2",rotor:d,position:0},{name:"slot3",rotor:p,position:0},{name:"slot4",rotor:j,position:0}],outputKey:"",totalInput:"",totalOutput:""},I=Object(u.b)({name:"handleSlots",initialState:C,reducers:{handleRotorRotation:function(t,e){var n=t.slots;!function(t){t.some((function(e,n){if("reflector"===e.rotor.type)return!0;var r=e.position>=25?0:e.position+1;return t[n].position=r,!(e.rotor.turnOver===e.position)}))}(n);var r=e.payload,o=function(t,e){if(" "===e)return" ";var n=K(t,x(e));t.reverse().shift(),console.log("first pass num: ",n);var r=K(t,n,!0);return console.log("second pass num: ",r),g(r)}(Object(O.a)(n),r);t.totalInput+=r,t.outputKey=o,t.totalOutput+=o},handleNonEncodableKeys:function(t,e){var n=e.payload.toUpperCase();t.slots;switch(n){case" ":t.totalOutput+=" ";break;case"BACKSPACE":break;case"DELETE":t.totalInput=t.totalInput.slice(0,-1),t.totalOutput=t.totalOutput.slice(0,-1)}}}}),w=I.actions,E=w.handleRotorRotation,L=w.handleNonEncodableKeys,S=I.reducer,U=Object(l.b)({rotors:h,machine:S});var R,F,B,D,N,P,T,A,J,G,M=Object(u.a)({reducer:U}),W={borderRadius:"6px",colors:{white:"white",primary:"red",litLetter:"#7a7b3d"},font:{size:"1em"},baseline:"24px"},z=n(1),H=function(t){var e=t.children;return Object(z.jsx)(a.a,{store:M,children:Object(z.jsx)(s.a,{theme:W,children:e})})},Q=n(3),V=n(11),X=function(t){return t.machine},Y=(Object(V.a)([X],(function(t){return t.slots})),Object(V.a)([X],(function(t){return t.outputKey}))),Z=Object(V.a)([X],(function(t){return t.totalOutput})),$=n(13),q=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=/^(^-?\d+(?:\.\d+)?)(.*)$/,r=t.match(n);if(!r)return t;var o=Object($.a)(r,3),i=o[1],c=o[2],a=parseFloat(i);return a&&c?"".concat(a*e).concat(c):t},_=s.b.div(R||(R=Object(Q.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ",";\n  height: ",";\n  border-radius: 50%;\n  border: 2px solid lightgray;\n  background-color: ",";\n  margin-left: ",";\n  margin-right: ",";\n"])),(function(t){return q(t.theme.baseline,3)}),(function(t){return q(t.theme.baseline,3)}),(function(t){return t.isLit?t.theme.colors.litLetter:"grey"}),(function(t){return q(t.theme.baseline,.25)}),(function(t){return q(t.theme.baseline,.25)})),tt=s.b.p(F||(F=Object(Q.a)(["\n  color: ",";\n  font-size: ",";\n  flex: 0;\n"])),(function(t){return t.theme.colors.white}),(function(t){return q(t.theme.font.size,2)})),et=function(t){var e=t.letter,n=t.isLit,r=void 0!==n&&n;return Object(z.jsx)(_,{isLit:r,children:Object(z.jsx)(tt,{children:e.toUpperCase()})})},nt=o.a.memo(et),rt=s.b.div(B||(B=Object(Q.a)(["\n  display: flex;\n  margin-bottom: ",";\n"])),(function(t){return q(t.theme.baseline,.5)})),ot=function(t){var e=t.letters,n=t.activeKey;return Object(z.jsx)(rt,{children:e.map((function(t){var e=t===n;return Object(z.jsx)(nt,{letter:t,isLit:e},"".concat(t))}))})},it=o.a.memo(ot),ct="QWERTYUIOP".split(""),at="ASDFGHJKL".split(""),st="ZXCVBNM".split(""),ut=s.b.div(D||(D=Object(Q.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),lt=function(t){var e=t.activeKey;return Object(z.jsxs)(ut,{children:[Object(z.jsx)(it,{letters:ct,activeKey:e}),Object(z.jsx)(it,{letters:at,activeKey:e}),Object(z.jsx)(it,{letters:st,activeKey:e})]})},bt=function(){var t=Object(a.c)(Y);return Object(z.jsx)(lt,{activeKey:t})},dt=s.b.div(N||(N=Object(Q.a)(["\n  p {\n    color: ","\n  }\n"])),(function(t){return q(t.theme.colors.white)})),pt=s.b.div(P||(P=Object(Q.a)(["\n  display: flex;\n  padding: ",";\n  \n  textarea {\n    flex: 1;\n    font-size: ",";\n    text-transform: uppercase;\n    height: 10em;\n    width: 30em;\n    margin: ",";\n    resize: none;\n  }\n"])),(function(t){return q(t.theme.baseline,1)}),(function(t){return q(t.theme.font.size,1.5)}),(function(t){return q(t.theme.baseline,.5)})),jt=s.b.textarea(T||(T=Object(Q.a)(["\n  height: 10em;\n"]))),ft=s.b.textarea(A||(A=Object(Q.a)(["\n  background-color: ",";\n"])),(function(t){return q(t.theme.colors.white)})),ht=function(){var t=Object(r.useState)(""),e=Object($.a)(t,2),n=e[0],o=e[1],i=Object(a.c)(Z),c=Object(a.b)(),s=(Object(r.useCallback)((function(t){o(t.target.value)}),[o]),Object(r.useCallback)((function(t){var e,n=t.key;(e=n,y.includes(e.toUpperCase()))?!function(t){return v.includes(t.toUpperCase())}(n)?c(E(n)):c(L(n)):t.preventDefault()}),[c,n]));return Object(z.jsxs)(dt,{children:[Object(z.jsx)("p",{children:"Enter text below to be encypted"}),Object(z.jsxs)(pt,{children:[Object(z.jsx)(jt,{onKeyDown:s}),Object(z.jsx)(ft,{disabled:!0,value:i})]})]})},Ot=s.b.div(J||(J=Object(Q.a)(["\n\n"]))),mt=s.b.h1(G||(G=Object(Q.a)(["\n  color: ",";\n"])),(function(t){return t.theme.colors.white})),vt=function(){return Object(z.jsxs)(Ot,{children:[Object(z.jsx)(mt,{children:"Engima"}),Object(z.jsx)(bt,{}),Object(z.jsx)(ht,{})]})},yt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),r(t),o(t),i(t),c(t)}))};c.a.render(Object(z.jsx)(o.a.StrictMode,{children:Object(z.jsx)(H,{children:Object(z.jsx)(vt,{})})}),document.getElementById("root")),yt()}},[[31,1,2]]]);
//# sourceMappingURL=main.d08215fb.chunk.js.map