(this["webpackJsonpengima-machine"]=this["webpackJsonpengima-machine"]||[]).push([[0],{24:function(t,e,n){},31:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(11),c=n.n(i),a=(n(24),n(6)),s=n(2),u=n(5),l=n(4),b={name:"rotorI",type:"rotor",turnOver:16,keys:"EKMFLGDQVZNTOWYHXUSPAIBRCJ".split("")},p={name:"rotorII",type:"rotor",turnOver:4,keys:"AJDKSIRUXBLHWTMCQGZNPYFVOE".split("")},h={name:"rotorIII",type:"rotor",turnOver:21,keys:"BDFHJLCPRTXVZNYEIWGAKMUSQO".split("")},d={name:"UKW-B",type:"reflector",keys:"YRUHQSLDPXNGOKMIEBFZCWVJAT".split("")},f=[b,p,h],j=Object(u.b)({name:"handleRotors",initialState:f,reducers:{}}).reducer,O=n(10),m="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),v=([].concat(Object(O.a)(m),[" "]),function(t){return m.findIndex((function(e){return e===t.toUpperCase()}))}),g=function(t){return m[t]||""},x=function(t,e,n){var r,o,i;switch(n){case"add":r=t+e;break;case"subtract":r=t-e;break;default:r=null}return null===r?-1:(o=r,i=m.length,(o%i+i)%i)},y=function(t,e,n){return t.reduce((function(t,e){if(console.log("-------------------------"),console.log("slot: ".concat(e.name," at position ").concat(e.position,". Given keyNum: ").concat(t,". Using rotor: ").concat(e.rotor.name,", with keys: ").concat(e.rotor.keys)),t<0)return-1;var r,o,i,c=x(t,e.position,"add"),a=g(c),s=(r=e.rotor.keys,o=c,i=a,n?r.indexOf(i):v(r[o]));return console.log("Calc key as",g(s)),console.log("Key num is, ",s),console.log("output key num with positiuon",x(s,e.position,"subtract")),x(s,e.position,"subtract")}),e)},I=function(t,e){if(" "===e)return" ";var n=y(t,v(e));t.reverse().shift(),console.log("first pass num: ",n);var r=y(t,n,!0);return console.log("second pass num: ",r),g(r)},k=function(t){t.some((function(e,n){if("reflector"===e.rotor.type)return!0;var r=e.position>=25?0:e.position+1;return t[n].position=r,!(e.rotor.turnOver===e.position)}))},C={slots:[{name:"slot1",rotor:b,position:0},{name:"slot2",rotor:p,position:0},{name:"slot3",rotor:h,position:0},{name:"slot4",rotor:d,position:0}],outputKey:"",totalInput:"",totalOutput:""},K=Object(u.b)({name:"handleSlots",initialState:C,reducers:{handleSingleRotorRotation:function(t,e){var n=t.slots,r=e.payload;if(t.totalInput+=r," "!==r){k(n);var o=I(Object(O.a)(n),r);t.outputKey=o,t.totalOutput+=o}else t.totalOutput+=" "},handleFullRotorRotation:function(t,e){var n=t.slots;t.totalInput=e.payload.toUpperCase(),function(t){t.forEach((function(t){t.position=0}))}(n);var r=t.totalInput.split("").map((function(t){return" "===t?" ":(k(n),I(Object(O.a)(n),t))}));t.outputKey=r[r.length-1],t.totalOutput=r.join("")}}}),R=K.actions,w=R.handleSingleRotorRotation,L=R.handleFullRotorRotation,F=K.reducer,S=Object(l.b)({rotors:j,machine:F});var U,E,B,J,P,T,z,A,D,G,M=Object(u.a)({reducer:S}),N={borderRadius:"6px",colors:{white:"white",primary:"red",litLetter:"#7a7b3d"},font:{size:"1em"},baseline:"24px"},W=n(1),Z=function(t){var e=t.children;return Object(W.jsx)(a.a,{store:M,children:Object(W.jsx)(s.a,{theme:N,children:e})})},H=n(3),Q=n(12),V=function(t){return t.machine},X=(Object(Q.a)([V],(function(t){return t.slots})),Object(Q.a)([V],(function(t){return t.outputKey}))),Y=Object(Q.a)([V],(function(t){return t.totalOutput})),$=Object(Q.a)([V],(function(t){return t.totalInput})),q=n(19),_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=/^(^-?\d+(?:\.\d+)?)(.*)$/,r=t.match(n);if(!r)return t;var o=Object(q.a)(r,3),i=o[1],c=o[2],a=parseFloat(i);return a&&c?"".concat(a*e).concat(c):t},tt=s.b.div(U||(U=Object(H.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: ",";\n  height: ",";\n  border-radius: 50%;\n  border: 2px solid lightgray;\n  background-color: ",";\n  margin-left: ",";\n  margin-right: ",";\n"])),(function(t){return _(t.theme.baseline,3)}),(function(t){return _(t.theme.baseline,3)}),(function(t){return t.isLit?t.theme.colors.litLetter:"grey"}),(function(t){return _(t.theme.baseline,.25)}),(function(t){return _(t.theme.baseline,.25)})),et=s.b.p(E||(E=Object(H.a)(["\n  color: ",";\n  font-size: ",";\n  flex: 0;\n"])),(function(t){return t.theme.colors.white}),(function(t){return _(t.theme.font.size,2)})),nt=function(t){var e=t.letter,n=t.isLit,r=void 0!==n&&n;return Object(W.jsx)(tt,{isLit:r,children:Object(W.jsx)(et,{children:e.toUpperCase()})})},rt=o.a.memo(nt),ot=s.b.div(B||(B=Object(H.a)(["\n  display: flex;\n  margin-bottom: ",";\n"])),(function(t){return _(t.theme.baseline,.5)})),it=function(t){var e=t.letters,n=t.activeKey;return Object(W.jsx)(ot,{children:e.map((function(t){var e=t===n;return Object(W.jsx)(rt,{letter:t,isLit:e},"".concat(t))}))})},ct=o.a.memo(it),at="QWERTYUIOP".split(""),st="ASDFGHJKL".split(""),ut="ZXCVBNM".split(""),lt=s.b.div(J||(J=Object(H.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),bt=function(t){var e=t.activeKey;return Object(W.jsxs)(lt,{children:[Object(W.jsx)(ct,{letters:at,activeKey:e}),Object(W.jsx)(ct,{letters:st,activeKey:e}),Object(W.jsx)(ct,{letters:ut,activeKey:e})]})},pt=function(){var t=Object(a.c)(X);return Object(W.jsx)(bt,{activeKey:t})},ht=s.b.div(P||(P=Object(H.a)(["\n  p {\n    color: ","\n  }\n"])),(function(t){return _(t.theme.colors.white)})),dt=s.b.div(T||(T=Object(H.a)(["\n  display: flex;\n  padding: ",";\n  \n  textarea {\n    flex: 1;\n    font-size: ",";\n    text-transform: uppercase;\n    height: 10em;\n    width: 30em;\n    margin: ",";\n    resize: none;\n  }\n"])),(function(t){return _(t.theme.baseline,1)}),(function(t){return _(t.theme.font.size,1.5)}),(function(t){return _(t.theme.baseline,.5)})),ft=s.b.textarea(z||(z=Object(H.a)(["\n  height: 10em;\n"]))),jt=s.b.textarea(A||(A=Object(H.a)(["\n  background-color: ",";\n"])),(function(t){return _(t.theme.colors.white)})),Ot=function(){var t=Object(a.c)(Y),e=Object(a.c)($),n=Object(a.b)(),o=Object(r.useCallback)((function(t){var r=t.target.value.replace(/[^a-zA-Z ]+/gm,""),o=function(t,e){if(0===t.length&&1===e.length)return!0;var n=e.slice(0,-1);return t.toUpperCase()===n.toUpperCase()}(e,r);n(o?w(r.substr(-1)):L(r))}),[e,n]);return Object(W.jsxs)(ht,{children:[Object(W.jsx)("p",{children:"Enter text below to be encypted or decrypt."}),Object(W.jsxs)(dt,{children:[Object(W.jsx)(ft,{onChange:o,spellCheck:!1,placeholder:"Input text here..."}),Object(W.jsx)(jt,{disabled:!0,value:t,placeholder:"Output here..."})]})]})},mt=s.b.div(D||(D=Object(H.a)(["\n\n"]))),vt=s.b.h1(G||(G=Object(H.a)(["\n  color: ",";\n"])),(function(t){return t.theme.colors.white})),gt=function(){return Object(W.jsxs)(mt,{children:[Object(W.jsx)(vt,{children:"Enigma"}),Object(W.jsx)(pt,{}),Object(W.jsx)(Ot,{})]})},xt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,32)).then((function(e){var n=e.getCLS,r=e.getFID,o=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),r(t),o(t),i(t),c(t)}))};c.a.render(Object(W.jsx)(o.a.StrictMode,{children:Object(W.jsx)(Z,{children:Object(W.jsx)(gt,{})})}),document.getElementById("root")),xt()}},[[31,1,2]]]);
//# sourceMappingURL=main.769ddfc9.chunk.js.map